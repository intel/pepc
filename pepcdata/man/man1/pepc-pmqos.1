.\" Automatically generated by Pandoc 3.6.4
.\"
.TH "PM QoS" "" "" ""
.SH Command \f[I]\[aq]pmqos\[aq]\f[R]
.SS General options
.TP
\f[B]\-h\f[R]
Show a short help message and exit.
.TP
\f[B]\-q\f[R]
Be quiet (print only important messages like warnings).
.TP
\f[B]\-d\f[R]
Print debugging information.
.TP
\f[B]\-\-debug\-modules\f[R] \f[I]MODNAME[,MODNAME1,...]\f[R]
While the \[aq]\-d\[aq] option enables all debug messages, this option
limits them to the specified modules.
For example, \[aq]\-d \-\-debug\-modules MSR\[aq] will only show debug
messages from the \[aq]MSR\[aq] module.
.TP
\f[B]\-\-version\f[R]
Print the version number and exit.
.TP
\f[B]\-H\f[R] \f[I]HOSTNAME\f[R], \f[B]\-\-host\f[R] \f[I]HOSTNAME\f[R]
Host name or IP address of the target system.
The pepc command will be executed on this system using SSH, instead of
running it locally.
If not specified, the command will be run locally.
.TP
\f[B]\-U\f[R] \f[I]USERNAME\f[R], \f[B]\-\-username\f[R] \f[I]USERNAME\f[R]
Name of the user to use for logging into the remote host over SSH.
The default user name is \[aq]root\[aq].
.TP
\f[B]\-K\f[R] \f[I]PRIVKEY\f[R], \f[B]\-\-priv\-key\f[R] \f[I]PRIVKEY\f[R]
Path to the private SSH key for logging into the remote host.
Defaults to keys in standard paths like \[aq]$HOME/.ssh\[aq].
.TP
\f[B]\-T\f[R] \f[I]TIMEOUT\f[R], \f[B]\-\-timeout\f[R] \f[I]TIMEOUT\f[R]
Timeout for establishing an SSH connection in seconds.
Defaults to 8.
.TP
\f[B]\-D\f[R] \f[I]DATASET\f[R], \f[B]\-\-dataset\f[R] \f[I]DATASET\f[R]
This option is for debugging and testing.
It specifies the dataset to use for emulating the host for running the
command on.
The datasets are available in \[aq]pepc\[aq] source code repository.
.RS
.PP
The argument can be a dataset path or name.
If specified by name, the following locations are searched for the
dataset.
.IP "1." 3
\[aq]./tests/emul\-data\[aq] in the program\[aq]s directory
.IP "2." 3
\[aq]$PEPC_DATA_PATH/tests/emul\-data\[aq]
.IP "3." 3
\[aq]$HOME/.local/share/pepc/tests/emul\-data\[aq]
.IP "4." 3
\[aq]$VIRTUAL_ENV/share/tests/emul\-data\[aq]
.IP "5." 3
\[aq]/usr/local/share/pepc/tests/emul\-data\[aq]
.IP "6." 3
\[aq]/usr/share/pepc/tests/emul\-data\[aq]
.RE
.TP
\f[B]\-\-force\-color\f[R]
Force colorized output even if the output stream is not a terminal (adds
ANSI escape codes).
.TP
\f[B]\-\-print\-man\-path\f[R]
Print path to pepc manual pages directory and exit.
This path can be added to the \[aq]MANPATH\[aq] environment variable to
make the manual pages available to the \[aq]man\[aq] tool.
.SS Target CPU specification options
All subcommands (\f[I]\[aq]info\[aq]\f[R], \f[I]\[aq]config\[aq]\f[R])
accept the following target CPU specification options.
.TP
\f[B]\-\-cpus\f[R] \f[I]CPUS\f[R]
The list can include individual CPU numbers and CPU number ranges.
For example, \[aq]1\-4,7,8,10\-12\[aq] would mean CPUs 1 to 4, CPUs 7,
8, and 10 to 12.
Use the special keyword \[aq]all\[aq] to specify all CPUs.
.TP
\f[B]\-\-cores\f[R] \f[I]CORES\f[R]
The list can include individual core numbers and core number ranges.
For example, \[aq]1\-4,7,8,10\-12\[aq] would mean cores 1 to 4, cores 7,
8, and 10 to 12.
Use the special keyword \[aq]all\[aq] to specify all cores.
This option has to be used with the \[aq]\-\-packages\[aq] option,
because core numbers are relative to the package.
.TP
\f[B]\-\-modules\f[R] \f[I]MODULES\f[R]
The list can include individual module numbers and module number ranges.
For example, \[aq]0,2\-5\[aq] would mean module 0 and modules 2, 3, 4,
and 5.
Use the special keyword \[aq]all\[aq] to specify all modules.
Note, unlike core and die numbers, module numbers are absolute.
.TP
\f[B]\-\-dies\f[R] \f[I]DIES\f[R]
The list can include individual die numbers and die number ranges.
For example, \[aq]0\-3,5\[aq] would mean dies 0 to 3, and die 5.
Use the special keyword \[aq]all\[aq] to specify all dies.
On some systems, die numbers are globally unique, while on other systems
they are relative to the package.
In the latter case, this option has to be used with the
\[aq]\-\-packages\[aq] option.
.TP
\f[B]\-\-packages\f[R] \f[I]PACKAGES\f[R]
The list can include individual package numbers and package number
ranges.
For example, \[aq]0,2\-4\[aq] would mean package 0 and packages 2 to 4.
Use the special keyword \[aq]all\[aq] to specify all packages.
.TP
\f[B]\-\-core\-siblings\f[R] \f[I]CORE_SIBLINGS\f[R]
Core siblings are CPUs sharing the same core.
The list can include individual core sibling indices or index ranges.
For example, if a core includes CPUs 3 and 4, index 0 would mean CPU 3
and index 1 would mean CPU 4.
This option can only be used to reference online CPUs, because Linux
does not provide topology information for offline CPUs.
In the example with CPUs 3 and 4, if CPU 3 was offline, then index 0
would mean CPU 4 and index 1 would be invalid.
.TP
\f[B]\-\-module\-siblings\f[R] \f[I]MODULE_SIBLINGS\f[R]
Module siblings are CPUs sharing the same module.
The list can include individual module sibling indices or index ranges.
For example, if a module includes CPUs 3, 4, 5, and 6, index 0 would
mean CPU 3, index 1 would mean CPU 4, index 2 would mean CPU 5, and
index 3 would mean CPU 6.
This option can only be used to reference online CPUs, because Linux
does not provide topology information for offline CPUs.
In the example with CPUs 3, 4, 5, and 6, if CPU 4 was offline, then
index 1 would mean CPU 5, index 2 would mean CPU 6, and index 3 would be
invalid.
.SS Subcommand \f[I]\[aq]info\[aq]\f[R]
Retrieve PM QoS (Power Management Quality of Service) information for
specified CPUs.
By default, display all details for all CPUs.
Use target CPU specification options to define a subset of CPUs, cores,
dies, or packages.
.TP
\f[B]\-\-yaml\f[R]
Display information in YAML format.
.TP
\f[B]\-\-latency\-limit\f[R]
Retrieve the per\-CPU Linux PM QoS limit.
This limit affects C\-state selection by restricting the kernel from
using C\-states with latencies exceeding the specified limit.
For example, a 50us limit ensures the kernel only selects C\-states with
latencies ≤ 50us.
The limit is read from
\[aq]/sys/devices/system/cpu/cpu<NUMBER>/power/pm_qos_resume_latency_us\[aq].
.TP
\f[B]\-\-global\-latency\-limit\f[R]
Retrieve the global Linux PM QoS limit.
This limit, unlike the per\-CPU latency limit, applies globally.
It is read from the \[aq]/dev/cpu_dma_latency\[aq] device node.
.SS Subcommand \f[I]\[aq]config\[aq]\f[R]
Configure PM QoS (Power Management Quality of Service) for specified
CPUs.
If no parameter is provided, the current value(s) will be displayed.
Use target CPU specification options to define the subset of CPUs,
cores, dies, or packages.
.TP
\f[B]\-\-latency\-limit\f[R] \f[I][LIMIT]\f[R]
Set the per\-CPU Linux PM QoS limit, which restricts the kernel from
using C\-states with latencies exceeding the specified value.
For example, a 50us limit ensures the kernel selects only C\-states with
latencies ≤ 50us.
The limit is configured via
\[aq]/sys/devices/system/cpu/cpu<NUMBER>/power/pm_qos_resume_latency_us\[aq].
The default unit is \[aq]us\[aq] (microseconds), but \[aq]ns\[aq],
\[aq]ms\[aq], and \[aq]s\[aq] units are also supported (e.g.,
\[aq]1ms\[aq]).
Value 0 disables the limit.
.PP
Note: Setting the global latency limit is unsupported because the
\[aq]/dev/cpu_dma_latency\[aq] API requires the setter to keep the
device open for the limit to remain effective.
The limit is removed as soon as the device is closed.
